{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Async",
        "Args": {
          "BufferSize": 1000,
          "BlockWhenFull": true,
          "Configure": [
            {
              "Name": "Console"
            },
            {
              "Name": "Logger",
              "Args": {
                "configureLogger": {
                  "WriteTo": [
                    {
                      "Name": "MapFile",
                      "Args": {
                        "PatternTemplate": {
                          "Text": "c:/pub/logs/{Service}/{Timestamp:yyyyMM}/{Timestamp:dd-HHmm}.{Level}.log",
                          // 0 -{Service}, 1 - {Timestamp:yyyyMM}, 2 - {Timestamp:dd}, 3 - {Level}
                          "RollingParameters": [ 1, 2 ]
                        },
                        "Formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact",
                        "SinkMapReleaseOnRollout": true,
                        "SinkMapCountLimit": 10
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    ]
  }
}